<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Data sources | Analysis of stocks discussed in Reddit r/wallstreetbets</title>
  <meta name="description" content="Chapter 2 Data sources | Analysis of stocks discussed in Reddit r/wallstreetbets" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Data sources | Analysis of stocks discussed in Reddit r/wallstreetbets" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Data sources | Analysis of stocks discussed in Reddit r/wallstreetbets" />
  
  
  

<meta name="author" content="Xingyu Lu, Yue Xiong ,Yue Zhang" />


<meta name="date" content="2021-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="data-transformation.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-8.1.2/css/motion.css" rel="stylesheet" />
<script src="libs/highcharts-8.1.2/highcharts.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-3d.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-more.js"></script>
<script src="libs/highcharts-8.1.2/modules/stock.js"></script>
<script src="libs/highcharts-8.1.2/modules/map.js"></script>
<script src="libs/highcharts-8.1.2/modules/annotations.js"></script>
<script src="libs/highcharts-8.1.2/modules/data.js"></script>
<script src="libs/highcharts-8.1.2/modules/drilldown.js"></script>
<script src="libs/highcharts-8.1.2/modules/item-series.js"></script>
<script src="libs/highcharts-8.1.2/modules/offline-exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-8.1.2/modules/exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/export-data.js"></script>
<script src="libs/highcharts-8.1.2/modules/funnel.js"></script>
<script src="libs/highcharts-8.1.2/modules/heatmap.js"></script>
<script src="libs/highcharts-8.1.2/modules/treemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/sankey.js"></script>
<script src="libs/highcharts-8.1.2/modules/dependency-wheel.js"></script>
<script src="libs/highcharts-8.1.2/modules/organization.js"></script>
<script src="libs/highcharts-8.1.2/modules/solid-gauge.js"></script>
<script src="libs/highcharts-8.1.2/modules/streamgraph.js"></script>
<script src="libs/highcharts-8.1.2/modules/sunburst.js"></script>
<script src="libs/highcharts-8.1.2/modules/vector.js"></script>
<script src="libs/highcharts-8.1.2/modules/wordcloud.js"></script>
<script src="libs/highcharts-8.1.2/modules/xrange.js"></script>
<script src="libs/highcharts-8.1.2/modules/tilemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/venn.js"></script>
<script src="libs/highcharts-8.1.2/modules/gantt.js"></script>
<script src="libs/highcharts-8.1.2/modules/timeline.js"></script>
<script src="libs/highcharts-8.1.2/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-8.1.2/modules/bullet.js"></script>
<script src="libs/highcharts-8.1.2/modules/coloraxis.js"></script>
<script src="libs/highcharts-8.1.2/modules/dumbbell.js"></script>
<script src="libs/highcharts-8.1.2/modules/lollipop.js"></script>
<script src="libs/highcharts-8.1.2/modules/series-label.js"></script>
<script src="libs/highcharts-8.1.2/plugins/motion.js"></script>
<script src="libs/highcharts-8.1.2/custom/reset.js"></script>
<script src="libs/highcharts-8.1.2/modules/boost.js"></script>
<script src="libs/highchart-binding-0.8.2/highchart.js"></script>
<link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="libs/wordcloud2-0.0.1/hover.js"></script>
<script src="libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">RedditWSB</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#stock-dataset"><i class="fa fa-check"></i><b>2.1</b> Stock dataset</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#reddit-posts-dataset"><i class="fa fa-check"></i><b>2.2</b> Reddit posts dataset</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#google-search-score-dataset"><i class="fa fa-check"></i><b>2.3</b> Google search score dataset</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#google-trends-data-transformation"><i class="fa fa-check"></i><b>3.1</b> Google Trends Data Transformation</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#reddit-data-transformation"><i class="fa fa-check"></i><b>3.2</b> Reddit Data Transformation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-transformation.html"><a href="data-transformation.html#parse-stock-tickers-from-reddit-posts"><i class="fa fa-check"></i><b>3.2.1</b> Parse Stock tickers from Reddit posts</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-transformation.html"><a href="data-transformation.html#subreddit-overview"><i class="fa fa-check"></i><b>3.2.2</b> Subreddit overview</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-transformation.html"><a href="data-transformation.html#frequent-keywords-in-reddit-posts"><i class="fa fa-check"></i><b>3.2.3</b> Frequent keywords in Reddit posts</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-transformation.html"><a href="data-transformation.html#sentiment-analysis-on-reddit-posts-regarding-gme"><i class="fa fa-check"></i><b>3.2.4</b> Sentiment Analysis on Reddit Posts regarding GME</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#stock-data-transformation"><i class="fa fa-check"></i><b>3.3</b> Stock Data Transformation</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#reddit-post-dataset"><i class="fa fa-check"></i><b>4.1</b> Reddit post dataset</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#google-trend-dataset"><i class="fa fa-check"></i><b>4.2</b> Google Trend dataset</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#whats-the-impact-of-rwallstreetbet"><i class="fa fa-check"></i><b>5.1</b> Whatâ€™s the impact of r/wallstreetbet?</a></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#stock-data-and-information"><i class="fa fa-check"></i><b>5.2</b> Stock Data and Information</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#stock-data-plot"><i class="fa fa-check"></i><b>5.2.1</b> Stock Data Plot</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#stock-risk-assessment"><i class="fa fa-check"></i><b>5.2.2</b> Stock Risk Assessment</a></li>
<li class="chapter" data-level="5.2.3" data-path="results.html"><a href="results.html#most-popular-stocks"><i class="fa fa-check"></i><b>5.2.3</b> Most Popular Stocks</a></li>
<li class="chapter" data-level="5.2.4" data-path="results.html"><a href="results.html#time-series-of-the-top-10-stocks"><i class="fa fa-check"></i><b>5.2.4</b> Time Series of the Top 10 Stocks</a></li>
<li class="chapter" data-level="5.2.5" data-path="results.html"><a href="results.html#correlations-between-top-10-mentioned-stocks"><i class="fa fa-check"></i><b>5.2.5</b> Correlations between top 10 mentioned stocks</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#rwallstreetbets-reddit-post-data"><i class="fa fa-check"></i><b>5.3</b> r/WallStreetBets Reddit Post Data</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#rwallstreetbets-metrics"><i class="fa fa-check"></i><b>5.3.1</b> r/WallStreetBets metrics</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#reddit-metrics-vs.-stock-price-and-volume"><i class="fa fa-check"></i><b>5.3.2</b> Reddit metrics vs.Â stock price and volume</a></li>
<li class="chapter" data-level="5.3.3" data-path="results.html"><a href="results.html#reddit-metrics-vs.-stock-price"><i class="fa fa-check"></i><b>5.3.3</b> Reddit metrics vs.Â stock price</a></li>
<li class="chapter" data-level="5.3.4" data-path="results.html"><a href="results.html#what-are-the-most-popular-words"><i class="fa fa-check"></i><b>5.3.4</b> What are the most popular words?</a></li>
<li class="chapter" data-level="5.3.5" data-path="results.html"><a href="results.html#sentiment-analysis-on-reddit-posts-regarding-gme-1"><i class="fa fa-check"></i><b>5.3.5</b> Sentiment analysis on Reddit posts regarding GME</a></li>
<li class="chapter" data-level="5.3.6" data-path="results.html"><a href="results.html#general-publics-interests-on-google"><i class="fa fa-check"></i><b>5.3.6</b> General Publicâ€™s interests on Google</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="interactive-component-1.html"><a href="interactive-component-1.html"><i class="fa fa-check"></i><b>7</b> Interactive component</a>
<ul>
<li class="chapter" data-level="7.1" data-path="interactive-component-1.html"><a href="interactive-component-1.html#link-to-the-interactive-map"><i class="fa fa-check"></i><b>7.1</b> Link to the interactive map</a></li>
<li class="chapter" data-level="7.2" data-path="interactive-component-1.html"><a href="interactive-component-1.html#descriptions"><i class="fa fa-check"></i><b>7.2</b> Descriptions</a></li>
<li class="chapter" data-level="7.3" data-path="interactive-component-1.html"><a href="interactive-component-1.html#instructions-for-using-the-map"><i class="fa fa-check"></i><b>7.3</b> Instructions for using the map</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>8</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analysis of stocks discussed in Reddit r/wallstreetbets</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-sources" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Data sources</h1>
<p>The primary data sources for this project are <a href="https://finance.yahoo.com/"><em>Yahoo Finance</em></a>, <a href="https://github.com/pushshift/api"><em>Pushshift Reddit API</em></a> and <a href="https://trends.google.com/trends/?geo=US"><em>Google Trends</em></a>. Yahoo Finance provides financial news, data and commentary including stock quotes, press releases, financial reports, and original content. The pushshift.io Reddit API was designed and created by the /r/datasets mod team to help provide enhanced functionality and search capabilities for searching Reddit comments and submissions. Google Trends is a website by Google that analyzes the popularity of top search queries in Google Search across various regions and languages.</p>
<p>From the above data sources we collected and used three major datasets: Stock dataset from Yahoo Finance, Reddit posts dataset from Reddit API and Google search score dataset from Google Trends. Each member in our team was responsible for downloading one dataset from corresponding data sources. More details of the datasets are as following:</p>
<div id="stock-dataset" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Stock dataset</h2>
<p>This dataset mainly contains the prices and volume of the stocks that are discussed in r/wallstreetbets subreddit, which help to indicate the stock performance. We used the R package <code>quantmod</code> to download the data, which is sourced from <a href="https://finance.yahoo.com/"><em>Yahoo Finance</em></a>.</p>
<table>
<caption><span id="tab:unnamed-chunk-3">Table 2.1: </span>Major columns used</caption>
<colgroup>
<col width="11%" />
<col width="7%" />
<col width="81%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Column Name</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Date</td>
<td align="left">Date</td>
<td align="left">Date of the prices and volume</td>
</tr>
<tr class="even">
<td align="left">Open</td>
<td align="left">numeric</td>
<td align="left">Open price</td>
</tr>
<tr class="odd">
<td align="left">High</td>
<td align="left">numeric</td>
<td align="left">Highest price of the day</td>
</tr>
<tr class="even">
<td align="left">Low</td>
<td align="left">numeric</td>
<td align="left">Lowest price of the day</td>
</tr>
<tr class="odd">
<td align="left">Close</td>
<td align="left">numeric</td>
<td align="left">Close price adjusted for splits</td>
</tr>
<tr class="even">
<td align="left">Volume</td>
<td align="left">numeric</td>
<td align="left">Number of shares traded</td>
</tr>
<tr class="odd">
<td align="left">Adjusted</td>
<td align="left">numeric</td>
<td align="left">Adjusted close price adjusted for splits and dividend and/or capital gain distributions.</td>
</tr>
</tbody>
</table>
</div>
<div id="reddit-posts-dataset" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Reddit posts dataset</h2>
<p>This dataset contains the posts in r/wallstreetbets subreddit, which we used to extract out the information about the stocks discussed and the post attitude. We created a python <a href="https://github.com/stellazhangyue/redditWSB/blob/main/scripts/wallstreetbet_data_collection.ipynb"><em>script</em></a> to pull the data we need from <a href="https://github.com/pushshift/api"><em>Pushshift Reddit API</em></a> and write to the csv files. Due to Githubâ€™s limit on file size, we slice the data by day to create one file for each day. The Pushshift Reddit API has the advantage over the official Reddit API that it gives full functionality for searching Reddit data, which is very helpful for us to only download the data we need.</p>
<table>
<caption><span id="tab:unnamed-chunk-4">Table 2.2: </span>Major columns used</caption>
<thead>
<tr class="header">
<th align="left">Column Name</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">postid</td>
<td align="left">character</td>
<td align="left">unique identifier for post</td>
</tr>
<tr class="even">
<td align="left">author</td>
<td align="left">character</td>
<td align="left">post creator</td>
</tr>
<tr class="odd">
<td align="left">created_utc</td>
<td align="left">integer</td>
<td align="left">post created time in utc timezone</td>
</tr>
<tr class="even">
<td align="left">permalink</td>
<td align="left">character</td>
<td align="left">URL to the post</td>
</tr>
<tr class="odd">
<td align="left">score</td>
<td align="left">integer</td>
<td align="left">number of upvotes minus the number of downvotes</td>
</tr>
<tr class="even">
<td align="left">title</td>
<td align="left">character</td>
<td align="left">post title</td>
</tr>
<tr class="odd">
<td align="left">selftext</td>
<td align="left">character</td>
<td align="left">post content</td>
</tr>
</tbody>
</table>
<p><strong>Issues with this dataset: </strong>
1. Only the current state of the posts can be downloaded. Because the majority of the discussions on r/wallsteetbets we are interested in happened earlier this year, many of the posts are either deleted by the author or removed by the administrator. As a result, we can no longer access those postsâ€™ content and perform analysis on top it. See [Section header text] for more details.
2. Because of the big volume of the posts and the large size of the data, we are unable to download all posts over the complete time period. Instead, we only download the posts created in Jan, Feb, May, Jun and Jul, which are the months most of the discussions that we care about happened in.</p>
</div>
<div id="google-search-score-dataset" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Google search score dataset</h2>
<p><strong>Dataset: combined_news.csv and combined_web.csv</strong>
This dataset mainly contains the website search and news search information in Google. Since r/wallstreetbets subreddit, the heavily shorted stocks as well as the disagreement between retailer traders and professional traders were relatively new to the general public, we assume that they would actively search in Google to follow this event. Therefore, using Google search data can also serve as another indicator to show the public attention. Both csv files are downloaded from <a href="https://trends.google.com/trends/?geo=US"><em>Google Trends</em></a>. Google assigns a search score for each keyword each work. The scores represent search interest relative to the highest point for the given region and time. We are focusing on United State for the time period starting from 2021-01-01.</p>
<table>
<caption><span id="tab:unnamed-chunk-5">Table 2.3: </span>Major columns used</caption>
<thead>
<tr class="header">
<th align="left">Column Name</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">postid</td>
<td align="left">character</td>
<td align="left">unique identifier for post</td>
</tr>
<tr class="even">
<td align="left">author</td>
<td align="left">character</td>
<td align="left">post creator</td>
</tr>
<tr class="odd">
<td align="left">created_utc</td>
<td align="left">integer</td>
<td align="left">post created time in utc timezone</td>
</tr>
<tr class="even">
<td align="left">permalink</td>
<td align="left">character</td>
<td align="left">URL to the post</td>
</tr>
<tr class="odd">
<td align="left">score</td>
<td align="left">integer</td>
<td align="left">number of upvotes minus the number of downvotes</td>
</tr>
<tr class="even">
<td align="left">title</td>
<td align="left">character</td>
<td align="left">post title</td>
</tr>
<tr class="odd">
<td align="left">selftext</td>
<td align="left">character</td>
<td align="left">post content</td>
</tr>
</tbody>
</table>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-transformation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/stellazhangyue/redditWSB/edit/main/02-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/stellazhangyue/redditWSB/blob/main/02-data.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
