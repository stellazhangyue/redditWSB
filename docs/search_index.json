[["index.html", "Analysis of stocks discussed in Reddit r/wallstreetbets Chapter 1 Introduction", " Analysis of stocks discussed in Reddit r/wallstreetbets Xingyu Lu, Yue Xiong ,Yue Zhang 2021-11-15 Chapter 1 Introduction "],["data-sources.html", "Chapter 2 Data sources", " Chapter 2 Data sources "],["data-transformation.html", "Chapter 3 Data transformation", " Chapter 3 Data transformation "],["missing-values.html", "Chapter 4 Missing values 4.1 Reddit post dataset 4.2 Google Trend dataset", " Chapter 4 Missing values 4.1 Reddit post dataset We first create the missing values plots, both count and percent, for the reddit post dataset. filenames &lt;- list.files(&quot;data/reddit/daywise&quot;, pattern=&quot;*.csv&quot;, full.names=TRUE) df &lt;- do.call(rbind,lapply(filenames, read.csv)) df &lt;- subset(df, select = -c(X)) df &lt;- df[!duplicated(df),] mp_df &lt;- df %&gt;% replace_with_na(replace = list(author = &quot;&quot;, selftext=c(&quot; removed &quot;, &quot; deleted &quot;))) plot_missing_patterns(mp_df, FALSE) plot_missing_patterns(mp_df, TRUE) We can observe from the missing value plots that there are 4 different missing patterns, which are complete cases (47.19%), missing selftext (45.08%), missing both selftext and author (4.77%), and missing author only (2.95%). Therefore, out of the 7 variables in the dataset, only 2 variables might be missing, which are selftext and author respectively. Among the 2 variables, 49.85% of the selftext is missing while only 7.72% of the author is missing. Looking into the selftext column in the original dataset, we noticed that there are 3 major levels that account for ~90% of the data, which are “removed”, \"\" and “deleted”. Consulted the reddit documents, we found that “removed” means the post is either removed by the moderators of the subreddit group or the administrator; “deleted” means the post is deleted by the content author; \"\" appears when a post doesn’t have body text or a post’s body contains pictures only. In this regard, we are only considering “removed” and “deleted” as NA, \"“s are considered as valid inputs. About 45% of the posts are”removed\", which means the level of censorship is relatively high. body_agg &lt;- df %&gt;% mutate(selftext = trimws(selftext)) %&gt;% group_by(selftext) %&gt;% summarise(count = n()) %&gt;% arrange(desc(count)) %&gt;% mutate(percent = round(count/sum(count)*100, 2)) %&gt;% top_n(20) body_agg ## # A tibble: 88,017 × 3 ## selftext count percent ## &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; ## 1 &quot;removed&quot; 436413 45.1 ## 2 &quot;&quot; 394027 40.7 ## 3 &quot;deleted&quot; 46173 4.77 ## 4 &quot;Your daily trading discussion thread Please keep the shitpostin… 85 0.01 ## 5 &quot;Title&quot; 72 0.01 ## 6 &quot;To the moon&quot; 51 0.01 ## 7 &quot;Your daily trading discussion thread Please keep the shitpostin… 39 0 ## 8 &quot;AMC&quot; 37 0 ## 9 &quot;That is all&quot; 37 0 ## 10 &quot;TO THE MOON&quot; 37 0 ## # … with 88,007 more rows Looking at the author column, 7.72% of the posts are missing author. We noticed that 61.76% of the posts that don’t have an author are also missing selftext. author_agg &lt;- mp_df %&gt;% mutate(selftext = trimws(selftext), author = trimws(author)) %&gt;% filter(is.na(author)) %&gt;% group_by(selftext) %&gt;% summarise(count = n()) %&gt;% arrange(desc(count)) %&gt;% mutate(percent = round(count/sum(count)*100, 2)) %&gt;% top_n(20) author_agg ## # A tibble: 7 × 3 ## selftext count percent ## &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; ## 1 &lt;NA&gt; 46172 61.8 ## 2 &quot;&quot; 28588 38.2 ## 3 &quot;CROX are the official footwear of going to the moon nothing else … 1 0 ## 4 &quot;I think he s gone and I think he has soled all of this stocks and… 1 0 ## 5 &quot;taken from r investing full credit to OP u MasterCookSwag wanted … 1 0 ## 6 &quot;Welp down 354 today could be worse for sure Just here to say I ha… 1 0 ## 7 &quot;you should absolutely care about it and learn from it Figure out … 1 0 These missing values wouldn’t impact our analysis, because we are looking at the data at the aggregate level. Our analysis only cares about the change of the count of the posts in particular period of time. Even though those posts are deleted or removed in a later time, we should still include them in our analysis. 4.2 Google Trend dataset We created the missing values plots, both count and percent, for two Google trend datasets and found there’s no missing value in both datasets gt_web &lt;- read_csv(&quot;data/gtrends/combined_web.csv&quot;) plot_missing_patterns(gt_web, FALSE) plot_missing_patterns(gt_web, TRUE) gt_news &lt;- read_csv(&quot;data/gtrends/combined_news.csv&quot;) plot_missing_patterns(gt_news, FALSE) plot_missing_patterns(gt_news, TRUE) "],["results.html", "Chapter 5 Results", " Chapter 5 Results "],["interactive-component.html", "Chapter 6 Interactive component", " Chapter 6 Interactive component "],["conclusion.html", "Chapter 7 Conclusion", " Chapter 7 Conclusion "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
